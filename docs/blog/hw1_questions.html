<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andrew Wang">
<meta name="dcterms.date" content="2025-04-21">

<title>A Replication of Karlan and List (2007) – Andrew’s Website</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-6bd9cfa162949bde0a231f530c97869d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Andrew’s Website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resume.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#description" id="toc-description" class="nav-link" data-scroll-target="#description">Description</a></li>
  <li><a href="#load-and-inspect-the-data" id="toc-load-and-inspect-the-data" class="nav-link" data-scroll-target="#load-and-inspect-the-data">Load and Inspect the Data</a></li>
  <li><a href="#summary-statistics" id="toc-summary-statistics" class="nav-link" data-scroll-target="#summary-statistics">Summary Statistics</a></li>
  <li><a href="#missing-and-unique-values" id="toc-missing-and-unique-values" class="nav-link" data-scroll-target="#missing-and-unique-values">Missing and Unique Values</a></li>
  </ul></li>
  <li><a href="#balance-test" id="toc-balance-test" class="nav-link" data-scroll-target="#balance-test">Balance Test</a>
  <ul class="collapse">
  <li><a href="#balance-testing-on-pre-treatment-variables" id="toc-balance-testing-on-pre-treatment-variables" class="nav-link" data-scroll-target="#balance-testing-on-pre-treatment-variables">Balance Testing on Pre-Treatment Variables</a></li>
  <li><a href="#experimental-results" id="toc-experimental-results" class="nav-link" data-scroll-target="#experimental-results">Experimental Results</a></li>
  <li><a href="#charitable-contribution-made" id="toc-charitable-contribution-made" class="nav-link" data-scroll-target="#charitable-contribution-made">Charitable Contribution Made</a></li>
  <li><a href="#donation-rate-by-treatment-status" id="toc-donation-rate-by-treatment-status" class="nav-link" data-scroll-target="#donation-rate-by-treatment-status">Donation Rate by Treatment Status</a></li>
  <li><a href="#effect-of-treatment-on-donation-behavior" id="toc-effect-of-treatment-on-donation-behavior" class="nav-link" data-scroll-target="#effect-of-treatment-on-donation-behavior">Effect of Treatment on Donation Behavior</a></li>
  <li><a href="#probit-regression-effect-of-treatment-on-donation" id="toc-probit-regression-effect-of-treatment-on-donation" class="nav-link" data-scroll-target="#probit-regression-effect-of-treatment-on-donation">Probit Regression: Effect of Treatment on Donation</a></li>
  <li><a href="#differences-between-match-rates" id="toc-differences-between-match-rates" class="nav-link" data-scroll-target="#differences-between-match-rates">Differences between Match Rates</a></li>
  <li><a href="#effect-of-match-size-on-donation-t-tests" id="toc-effect-of-match-size-on-donation-t-tests" class="nav-link" data-scroll-target="#effect-of-match-size-on-donation-t-tests">Effect of Match Size on Donation (T-Tests)</a></li>
  <li><a href="#regression-effect-of-match-ratio-size-on-donation" id="toc-regression-effect-of-match-ratio-size-on-donation" class="nav-link" data-scroll-target="#regression-effect-of-match-ratio-size-on-donation">Regression: Effect of Match Ratio Size on Donation</a></li>
  <li><a href="#differences-in-match-size-effects-raw-vs-fitted" id="toc-differences-in-match-size-effects-raw-vs-fitted" class="nav-link" data-scroll-target="#differences-in-match-size-effects-raw-vs-fitted">Differences in Match Size Effects: Raw vs Fitted</a></li>
  <li><a href="#size-of-charitable-contribution" id="toc-size-of-charitable-contribution" class="nav-link" data-scroll-target="#size-of-charitable-contribution">Size of Charitable Contribution</a></li>
  <li><a href="#effect-of-treatment-on-donation-amount-full-sample" id="toc-effect-of-treatment-on-donation-amount-full-sample" class="nav-link" data-scroll-target="#effect-of-treatment-on-donation-amount-full-sample">Effect of Treatment on Donation Amount (Full Sample)</a></li>
  <li><a href="#treatment-effect-on-donation-amount-among-donors-only" id="toc-treatment-effect-on-donation-amount-among-donors-only" class="nav-link" data-scroll-target="#treatment-effect-on-donation-amount-among-donors-only">Treatment Effect on Donation Amount (Among Donors Only)</a></li>
  <li><a href="#distribution-of-donation-amounts-among-donors-only" id="toc-distribution-of-donation-amounts-among-donors-only" class="nav-link" data-scroll-target="#distribution-of-donation-amounts-among-donors-only">Distribution of Donation Amounts (Among Donors Only)</a></li>
  </ul></li>
  <li><a href="#simulation-experiment" id="toc-simulation-experiment" class="nav-link" data-scroll-target="#simulation-experiment">Simulation Experiment</a>
  <ul class="collapse">
  <li><a href="#law-of-large-numbers" id="toc-law-of-large-numbers" class="nav-link" data-scroll-target="#law-of-large-numbers">Law of Large Numbers</a></li>
  <li><a href="#central-limit-theorem" id="toc-central-limit-theorem" class="nav-link" data-scroll-target="#central-limit-theorem">Central Limit Theorem</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">A Replication of Karlan and List (2007)</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andrew Wang </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 21, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Dean Karlan at Yale and John List at the University of Chicago conducted a field experiment to test the effectiveness of different fundraising letters. They sent out 50,000 fundraising letters to potential donors, randomly assigning each letter to one of three treatments: a standard letter, a matching grant letter, or a challenge grant letter. They published the results of this experiment in the <em>American Economic Review</em> in 2007.Standard Letter was a regular appeal without mention of any matching funds. Matching Grant was a letter stating that contributions would be matched dollar-for-dollar (or at different match ratios such as 2:1 or 3:1) by a lead donor. Challenge Grant was a letter stating that the lead donor would only contribute if enough donations were received from others.The goal was to test both behavioral economic predictions (such as social pressure or anchoring) and standard economic theory regarding how incentives affect giving behavior. The randomized design ensures that differences in donation behavior across groups can be causally attributed to the letter variation. The results provided key insights into fundraising strategy and the psychology of donors, with implications for both nonprofits and economic theory on altruism. The article and supporting data are available from the <a href="https://www.aeaweb.org/articles?id=10.1257/aer.97.5.1774">AEA website</a> and from Innovations for Poverty Action as part of <a href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/27853&amp;version=4.2">Harvard’s Dataverse</a>.</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<section id="description" class="level3">
<h3 class="anchored" data-anchor-id="description">Description</h3>
<p>The dataset comprises 50,083 observations and 51 variables from a large-scale field experiment conducted by Karlan and List (2007) to study charitable giving behavior. Each row represents an individual donor who received one of several versions of a fundraising letter. The variables include binary indicators for treatment assignment (treatment, control), experimental conditions such as match ratio (ratio, ratio2, ratio3) and match threshold (size, size25, size50, size100, sizeno), as well as customized donation suggestions (ask, askd1, askd2, askd3).</p>
<p>Donation behavior is captured through variables like amount (the donation amount), gave (whether a donation was made), and amountchange (change from prior donation levels). Historical donation behavior is also recorded, including past frequency (freq), recency (years, dormant), and donor history (hpa, mrm2, ltmedmra). Demographic and geographic context is richly detailed with fields such as female, couple, state50one, and nonlit, along with state-level political and socioeconomic indicators (e.g., perbush, red0, median_hhincome, powner, psch_atlstba, pop_propurban).</p>
<p>The dataset is well-structured for causal analysis, containing a mixture of binary, categorical, and continuous variables. While most fields are complete, a few demographic columns (e.g., female, couple, pwhite) have some missing values. Overall, this dataset provides a robust foundation for replicating and extending the original experimental findings.</p>
</section>
<section id="load-and-inspect-the-data" class="level3">
<h3 class="anchored" data-anchor-id="load-and-inspect-the-data">Load and Inspect the Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"karlan_list_2007.dta"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview structure of the data</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>neat_glimpse <span class="ot">&lt;-</span> <span class="cf">function</span>(df, <span class="at">n =</span> <span class="dv">5</span>) {</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(dplyr)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(knitr)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), typeof)) <span class="sc">%&gt;%</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Variable"</span>, <span class="at">values_to =</span> <span class="st">"Type"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">Example =</span> <span class="fu">sapply</span>(df, <span class="cf">function</span>(x) <span class="fu">paste0</span>(<span class="fu">head</span>(x, n), <span class="at">collapse =</span> <span class="st">", "</span>))</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Clean Summary of Dataset Variables"</span>, <span class="at">align =</span> <span class="st">"lll"</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">neat_glimpse</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Clean Summary of Dataset Variables</caption>
<colgroup>
<col style="width: 14%">
<col style="width: 5%">
<col style="width: 79%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">treatment</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 1, 1, 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">control</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">1, 1, 0, 0, 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ratio</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 1, 1, 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">ratio2</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ratio3</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">size</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 3, 4, 2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">size25</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">size50</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">size100</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 1, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">sizeno</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 1, 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ask</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 1, 1, 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">askd1</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 1, 1, 1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">askd2</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">askd3</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ask1</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">55, 25, 55, 55, 35</td>
</tr>
<tr class="even">
<td style="text-align: left;">ask2</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">70, 35, 70, 70, 45</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ask3</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">85, 50, 85, 85, 55</td>
</tr>
<tr class="even">
<td style="text-align: left;">amount</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">gave</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">amountchange</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">-45, -25, -50, -25, -15</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hpa</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">45, 25, 50, 50, 25</td>
</tr>
<tr class="even">
<td style="text-align: left;">ltmedmra</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 1, 0, 1, 1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">freq</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">2, 2, 3, 15, 42</td>
</tr>
<tr class="even">
<td style="text-align: left;">years</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">4, 3, 2, 8, 95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">year5</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 1, 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">mrm2</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">31, 5, 6, 1, 24</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dormant</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">1, 0, 0, 0, 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">female</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">couple</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">state50one</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nonlit</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">5, 0, 3, 1, 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">cases</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">4, 2, 1, 2, 1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">statecnt</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">4.50029945373535, 2.9822461605072, 9.60702133178711, 3.28146815299988, 2.30201482772827</td>
</tr>
<tr class="even">
<td style="text-align: left;">stateresponse</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.0199468079954386, 0.0260869562625885, 0.023048173636198, 0.0206686928868294, 0.0155979199334979</td>
</tr>
<tr class="odd">
<td style="text-align: left;">stateresponset</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.0195023529231548, 0.0278330016881227, 0.0221589114516973, 0.0247026532888412, 0.0169712789356709</td>
</tr>
<tr class="even">
<td style="text-align: left;">stateresponsec</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.0208062417805195, 0.022494887933135, 0.0247435122728348, 0.0126811591908336, 0.0128865977749228</td>
</tr>
<tr class="odd">
<td style="text-align: left;">stateresponsetminc</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">-0.00130388885736465, 0.00533811375498772, -0.00258460082113743, 0.0120214940980077, 0.004084681160748</td>
</tr>
<tr class="even">
<td style="text-align: left;">perbush</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.490000009536743, 0.464646458625793, 0.408163279294968, 0.464646458625793, 0.525252521038055</td>
</tr>
<tr class="odd">
<td style="text-align: left;">close25</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">1, 0, 0, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">red0</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 0, 0, 0, 1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">blue0</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">1, 1, 1, 1, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">redcty</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0, 1, 0, 1, 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bluecty</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">1, 0, 1, 0, 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">pwhite</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.446493446826935, NA, 0.935706436634064, 0.888330936431885, 0.759014070034027</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pblack</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.527769207954407, NA, 0.0119483657181263, 0.0107604013755918, 0.127420946955681</td>
</tr>
<tr class="even">
<td style="text-align: left;">page18_39</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.317591279745102, NA, 0.276128172874451, 0.279411762952805, 0.442388862371445</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ave_hh_sz</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">2.09999990463257, NA, 2.48000001907349, 2.65000009536743, 1.85000002384186</td>
</tr>
<tr class="even">
<td style="text-align: left;">median_hhincome</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">28517, NA, 51175, 79269, 40908</td>
</tr>
<tr class="odd">
<td style="text-align: left;">powner</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.499807178974152, NA, 0.721940577030182, 0.92043137550354, 0.416072070598602</td>
</tr>
<tr class="even">
<td style="text-align: left;">psch_atlstba</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">0.32452780008316, NA, 0.192667931318283, 0.412142157554626, 0.439965158700943</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pop_propurban</td>
<td style="text-align: left;">double</td>
<td style="text-align: left;">1, NA, 1, 1, 1</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="summary-statistics" class="level3">
<h3 class="anchored" data-anchor-id="summary-statistics">Summary Statistics</h3>
<p>Below is a summary of the numeric and categorical variables in the dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary stats as a table</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> <span class="fu">summary</span>(df)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(summary_stats, <span class="at">caption =</span> <span class="st">"Summary Statistics of All Variables"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Summary Statistics of All Variables</caption>
<colgroup>
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">treatment</th>
<th style="text-align: left;">control</th>
<th style="text-align: left;">ratio</th>
<th style="text-align: left;">ratio2</th>
<th style="text-align: left;">ratio3</th>
<th style="text-align: left;">size</th>
<th style="text-align: left;">size25</th>
<th style="text-align: left;">size50</th>
<th style="text-align: left;">size100</th>
<th style="text-align: left;">sizeno</th>
<th style="text-align: left;">ask</th>
<th style="text-align: left;">askd1</th>
<th style="text-align: left;">askd2</th>
<th style="text-align: left;">askd3</th>
<th style="text-align: left;">ask1</th>
<th style="text-align: left;">ask2</th>
<th style="text-align: left;">ask3</th>
<th style="text-align: left;">amount</th>
<th style="text-align: left;">gave</th>
<th style="text-align: left;">amountchange</th>
<th style="text-align: left;">hpa</th>
<th style="text-align: left;">ltmedmra</th>
<th style="text-align: left;">freq</th>
<th style="text-align: left;">years</th>
<th style="text-align: left;">year5</th>
<th style="text-align: left;">mrm2</th>
<th style="text-align: left;">dormant</th>
<th style="text-align: left;">female</th>
<th style="text-align: left;">couple</th>
<th style="text-align: left;">state50one</th>
<th style="text-align: left;">nonlit</th>
<th style="text-align: left;">cases</th>
<th style="text-align: left;">statecnt</th>
<th style="text-align: left;">stateresponse</th>
<th style="text-align: left;">stateresponset</th>
<th style="text-align: left;">stateresponsec</th>
<th style="text-align: left;">stateresponsetminc</th>
<th style="text-align: left;">perbush</th>
<th style="text-align: left;">close25</th>
<th style="text-align: left;">red0</th>
<th style="text-align: left;">blue0</th>
<th style="text-align: left;">redcty</th>
<th style="text-align: left;">bluecty</th>
<th style="text-align: left;">pwhite</th>
<th style="text-align: left;">pblack</th>
<th style="text-align: left;">page18_39</th>
<th style="text-align: left;">ave_hh_sz</th>
<th style="text-align: left;">median_hhincome</th>
<th style="text-align: left;">powner</th>
<th style="text-align: left;">psch_atlstba</th>
<th style="text-align: left;">pop_propurban</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. : 25.0</td>
<td style="text-align: left;">Min. : 35.00</td>
<td style="text-align: left;">Min. : 50</td>
<td style="text-align: left;">Min. : 0.0000</td>
<td style="text-align: left;">Min. :0.00000</td>
<td style="text-align: left;">Min. :-200412.12</td>
<td style="text-align: left;">Min. : 0.00</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. : 0.000</td>
<td style="text-align: left;">Min. : 0.000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. : 0.00</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000000</td>
<td style="text-align: left;">Min. :0.000</td>
<td style="text-align: left;">Min. :0.0</td>
<td style="text-align: left;">Min. : 0.001995</td>
<td style="text-align: left;">Min. :0.00000</td>
<td style="text-align: left;">Min. :0.00000</td>
<td style="text-align: left;">Min. :0.00000</td>
<td style="text-align: left;">Min. :-0.047619</td>
<td style="text-align: left;">Min. :0.09091</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0094</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.000</td>
<td style="text-align: left;">Min. : 5000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
<td style="text-align: left;">Min. :0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.: 35.0</td>
<td style="text-align: left;">1st Qu.: 45.00</td>
<td style="text-align: left;">1st Qu.: 55</td>
<td style="text-align: left;">1st Qu.: 0.0000</td>
<td style="text-align: left;">1st Qu.:0.00000</td>
<td style="text-align: left;">1st Qu.: -50.00</td>
<td style="text-align: left;">1st Qu.: 30.00</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.: 2.000</td>
<td style="text-align: left;">1st Qu.: 2.000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.: 4.00</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000000</td>
<td style="text-align: left;">1st Qu.:1.000</td>
<td style="text-align: left;">1st Qu.:1.0</td>
<td style="text-align: left;">1st Qu.: 1.833234</td>
<td style="text-align: left;">1st Qu.:0.01816</td>
<td style="text-align: left;">1st Qu.:0.01849</td>
<td style="text-align: left;">1st Qu.:0.01286</td>
<td style="text-align: left;">1st Qu.:-0.001388</td>
<td style="text-align: left;">1st Qu.:0.44444</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.0000</td>
<td style="text-align: left;">1st Qu.:0.7558</td>
<td style="text-align: left;">1st Qu.:0.0147</td>
<td style="text-align: left;">1st Qu.:0.2583</td>
<td style="text-align: left;">1st Qu.:2.210</td>
<td style="text-align: left;">1st Qu.: 39181</td>
<td style="text-align: left;">1st Qu.:0.5602</td>
<td style="text-align: left;">1st Qu.:0.2356</td>
<td style="text-align: left;">1st Qu.:0.8849</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Median :1.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :1.000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :2.000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :1.000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median : 45.0</td>
<td style="text-align: left;">Median : 60.00</td>
<td style="text-align: left;">Median : 70</td>
<td style="text-align: left;">Median : 0.0000</td>
<td style="text-align: left;">Median :0.00000</td>
<td style="text-align: left;">Median : -30.00</td>
<td style="text-align: left;">Median : 45.00</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median : 4.000</td>
<td style="text-align: left;">Median : 5.000</td>
<td style="text-align: left;">Median :1.0000</td>
<td style="text-align: left;">Median : 8.00</td>
<td style="text-align: left;">Median :1.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000000</td>
<td style="text-align: left;">Median :3.000</td>
<td style="text-align: left;">Median :1.0</td>
<td style="text-align: left;">Median : 3.538799</td>
<td style="text-align: left;">Median :0.01971</td>
<td style="text-align: left;">Median :0.02170</td>
<td style="text-align: left;">Median :0.01988</td>
<td style="text-align: left;">Median : 0.001779</td>
<td style="text-align: left;">Median :0.48485</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :1.0000</td>
<td style="text-align: left;">Median :1.0000</td>
<td style="text-align: left;">Median :0.0000</td>
<td style="text-align: left;">Median :0.8728</td>
<td style="text-align: left;">Median :0.0366</td>
<td style="text-align: left;">Median :0.3055</td>
<td style="text-align: left;">Median :2.440</td>
<td style="text-align: left;">Median : 50673</td>
<td style="text-align: left;">Median :0.7123</td>
<td style="text-align: left;">Median :0.3737</td>
<td style="text-align: left;">Median :1.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Mean :0.6668</td>
<td style="text-align: left;">Mean :0.3332</td>
<td style="text-align: left;">Mean :1.334</td>
<td style="text-align: left;">Mean :0.2223</td>
<td style="text-align: left;">Mean :0.2222</td>
<td style="text-align: left;">Mean :1.667</td>
<td style="text-align: left;">Mean :0.1667</td>
<td style="text-align: left;">Mean :0.1666</td>
<td style="text-align: left;">Mean :0.1667</td>
<td style="text-align: left;">Mean :0.1667</td>
<td style="text-align: left;">Mean :1.334</td>
<td style="text-align: left;">Mean :0.2223</td>
<td style="text-align: left;">Mean :0.2223</td>
<td style="text-align: left;">Mean :0.2222</td>
<td style="text-align: left;">Mean : 71.5</td>
<td style="text-align: left;">Mean : 91.79</td>
<td style="text-align: left;">Mean : 111</td>
<td style="text-align: left;">Mean : 0.9157</td>
<td style="text-align: left;">Mean :0.02065</td>
<td style="text-align: left;">Mean : -52.67</td>
<td style="text-align: left;">Mean : 59.38</td>
<td style="text-align: left;">Mean :0.4937</td>
<td style="text-align: left;">Mean : 8.039</td>
<td style="text-align: left;">Mean : 6.098</td>
<td style="text-align: left;">Mean :0.5088</td>
<td style="text-align: left;">Mean : 13.01</td>
<td style="text-align: left;">Mean :0.5235</td>
<td style="text-align: left;">Mean :0.2777</td>
<td style="text-align: left;">Mean :0.0919</td>
<td style="text-align: left;">Mean :0.0009983</td>
<td style="text-align: left;">Mean :2.474</td>
<td style="text-align: left;">Mean :1.5</td>
<td style="text-align: left;">Mean : 5.998820</td>
<td style="text-align: left;">Mean :0.02063</td>
<td style="text-align: left;">Mean :0.02199</td>
<td style="text-align: left;">Mean :0.01772</td>
<td style="text-align: left;">Mean : 0.004273</td>
<td style="text-align: left;">Mean :0.48794</td>
<td style="text-align: left;">Mean :0.1857</td>
<td style="text-align: left;">Mean :0.4044</td>
<td style="text-align: left;">Mean :0.5956</td>
<td style="text-align: left;">Mean :0.5102</td>
<td style="text-align: left;">Mean :0.4887</td>
<td style="text-align: left;">Mean :0.8196</td>
<td style="text-align: left;">Mean :0.0867</td>
<td style="text-align: left;">Mean :0.3217</td>
<td style="text-align: left;">Mean :2.429</td>
<td style="text-align: left;">Mean : 54816</td>
<td style="text-align: left;">Mean :0.6694</td>
<td style="text-align: left;">Mean :0.3917</td>
<td style="text-align: left;">Mean :0.8720</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.:2.000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:3.000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:2.000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.: 65.0</td>
<td style="text-align: left;">3rd Qu.: 85.00</td>
<td style="text-align: left;">3rd Qu.: 100</td>
<td style="text-align: left;">3rd Qu.: 0.0000</td>
<td style="text-align: left;">3rd Qu.:0.00000</td>
<td style="text-align: left;">3rd Qu.: -25.00</td>
<td style="text-align: left;">3rd Qu.: 60.00</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.: 10.000</td>
<td style="text-align: left;">3rd Qu.: 9.000</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.: 19.00</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:0.0000000</td>
<td style="text-align: left;">3rd Qu.:4.000</td>
<td style="text-align: left;">3rd Qu.:2.0</td>
<td style="text-align: left;">3rd Qu.: 9.607021</td>
<td style="text-align: left;">3rd Qu.:0.02305</td>
<td style="text-align: left;">3rd Qu.:0.02470</td>
<td style="text-align: left;">3rd Qu.:0.02081</td>
<td style="text-align: left;">3rd Qu.: 0.010545</td>
<td style="text-align: left;">3rd Qu.:0.52525</td>
<td style="text-align: left;">3rd Qu.:0.0000</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
<td style="text-align: left;">3rd Qu.:0.9388</td>
<td style="text-align: left;">3rd Qu.:0.0909</td>
<td style="text-align: left;">3rd Qu.:0.3691</td>
<td style="text-align: left;">3rd Qu.:2.660</td>
<td style="text-align: left;">3rd Qu.: 66005</td>
<td style="text-align: left;">3rd Qu.:0.8168</td>
<td style="text-align: left;">3rd Qu.:0.5300</td>
<td style="text-align: left;">3rd Qu.:1.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :3.000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :4.000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :3.000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1500.0</td>
<td style="text-align: left;">Max. :1875.00</td>
<td style="text-align: left;">Max. :2250</td>
<td style="text-align: left;">Max. :400.0000</td>
<td style="text-align: left;">Max. :1.00000</td>
<td style="text-align: left;">Max. : 275.00</td>
<td style="text-align: left;">Max. :1000.00</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :218.000</td>
<td style="text-align: left;">Max. :95.000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :168.00</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000000</td>
<td style="text-align: left;">Max. :6.000</td>
<td style="text-align: left;">Max. :4.0</td>
<td style="text-align: left;">Max. :17.368841</td>
<td style="text-align: left;">Max. :0.07692</td>
<td style="text-align: left;">Max. :0.11111</td>
<td style="text-align: left;">Max. :0.05263</td>
<td style="text-align: left;">Max. : 0.111111</td>
<td style="text-align: left;">Max. :0.73196</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :0.9896</td>
<td style="text-align: left;">Max. :0.9975</td>
<td style="text-align: left;">Max. :5.270</td>
<td style="text-align: left;">Max. :200001</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
<td style="text-align: left;">Max. :1.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA’s :1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA’s :1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA’s :1111</td>
<td style="text-align: left;">NA’s :1148</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA’s :452</td>
<td style="text-align: left;">NA’s :452</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA’s :3</td>
<td style="text-align: left;">NA’s :3</td>
<td style="text-align: left;">NA’s :35</td>
<td style="text-align: left;">NA’s :35</td>
<td style="text-align: left;">NA’s :35</td>
<td style="text-align: left;">NA’s :35</td>
<td style="text-align: left;">NA’s :105</td>
<td style="text-align: left;">NA’s :105</td>
<td style="text-align: left;">NA’s :1866</td>
<td style="text-align: left;">NA’s :2036</td>
<td style="text-align: left;">NA’s :1866</td>
<td style="text-align: left;">NA’s :1862</td>
<td style="text-align: left;">NA’s :1874</td>
<td style="text-align: left;">NA’s :1869</td>
<td style="text-align: left;">NA’s :1868</td>
<td style="text-align: left;">NA’s :1866</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="missing-and-unique-values" class="level3">
<h3 class="anchored" data-anchor-id="missing-and-unique-values">Missing and Unique Values</h3>
<p>This table shows the number of missing values and unique values for each column:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>missing_unique <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="fu">list</span>(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing =</span> <span class="sc">~</span><span class="fu">sum</span>(<span class="fu">is.na</span>(.)),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">unique =</span> <span class="sc">~</span><span class="fu">n_distinct</span>(.)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  )))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(missing_unique, <span class="at">caption =</span> <span class="st">"Missing Values and Unique Counts per Variable"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Missing Values and Unique Counts per Variable</caption>
<colgroup>
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 0%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 1%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">treatment_missing</th>
<th style="text-align: right;">treatment_unique</th>
<th style="text-align: right;">control_missing</th>
<th style="text-align: right;">control_unique</th>
<th style="text-align: right;">ratio_missing</th>
<th style="text-align: right;">ratio_unique</th>
<th style="text-align: right;">ratio2_missing</th>
<th style="text-align: right;">ratio2_unique</th>
<th style="text-align: right;">ratio3_missing</th>
<th style="text-align: right;">ratio3_unique</th>
<th style="text-align: right;">size_missing</th>
<th style="text-align: right;">size_unique</th>
<th style="text-align: right;">size25_missing</th>
<th style="text-align: right;">size25_unique</th>
<th style="text-align: right;">size50_missing</th>
<th style="text-align: right;">size50_unique</th>
<th style="text-align: right;">size100_missing</th>
<th style="text-align: right;">size100_unique</th>
<th style="text-align: right;">sizeno_missing</th>
<th style="text-align: right;">sizeno_unique</th>
<th style="text-align: right;">ask_missing</th>
<th style="text-align: right;">ask_unique</th>
<th style="text-align: right;">askd1_missing</th>
<th style="text-align: right;">askd1_unique</th>
<th style="text-align: right;">askd2_missing</th>
<th style="text-align: right;">askd2_unique</th>
<th style="text-align: right;">askd3_missing</th>
<th style="text-align: right;">askd3_unique</th>
<th style="text-align: right;">ask1_missing</th>
<th style="text-align: right;">ask1_unique</th>
<th style="text-align: right;">ask2_missing</th>
<th style="text-align: right;">ask2_unique</th>
<th style="text-align: right;">ask3_missing</th>
<th style="text-align: right;">ask3_unique</th>
<th style="text-align: right;">amount_missing</th>
<th style="text-align: right;">amount_unique</th>
<th style="text-align: right;">gave_missing</th>
<th style="text-align: right;">gave_unique</th>
<th style="text-align: right;">amountchange_missing</th>
<th style="text-align: right;">amountchange_unique</th>
<th style="text-align: right;">hpa_missing</th>
<th style="text-align: right;">hpa_unique</th>
<th style="text-align: right;">ltmedmra_missing</th>
<th style="text-align: right;">ltmedmra_unique</th>
<th style="text-align: right;">freq_missing</th>
<th style="text-align: right;">freq_unique</th>
<th style="text-align: right;">years_missing</th>
<th style="text-align: right;">years_unique</th>
<th style="text-align: right;">year5_missing</th>
<th style="text-align: right;">year5_unique</th>
<th style="text-align: right;">mrm2_missing</th>
<th style="text-align: right;">mrm2_unique</th>
<th style="text-align: right;">dormant_missing</th>
<th style="text-align: right;">dormant_unique</th>
<th style="text-align: right;">female_missing</th>
<th style="text-align: right;">female_unique</th>
<th style="text-align: right;">couple_missing</th>
<th style="text-align: right;">couple_unique</th>
<th style="text-align: right;">state50one_missing</th>
<th style="text-align: right;">state50one_unique</th>
<th style="text-align: right;">nonlit_missing</th>
<th style="text-align: right;">nonlit_unique</th>
<th style="text-align: right;">cases_missing</th>
<th style="text-align: right;">cases_unique</th>
<th style="text-align: right;">statecnt_missing</th>
<th style="text-align: right;">statecnt_unique</th>
<th style="text-align: right;">stateresponse_missing</th>
<th style="text-align: right;">stateresponse_unique</th>
<th style="text-align: right;">stateresponset_missing</th>
<th style="text-align: right;">stateresponset_unique</th>
<th style="text-align: right;">stateresponsec_missing</th>
<th style="text-align: right;">stateresponsec_unique</th>
<th style="text-align: right;">stateresponsetminc_missing</th>
<th style="text-align: right;">stateresponsetminc_unique</th>
<th style="text-align: right;">perbush_missing</th>
<th style="text-align: right;">perbush_unique</th>
<th style="text-align: right;">close25_missing</th>
<th style="text-align: right;">close25_unique</th>
<th style="text-align: right;">red0_missing</th>
<th style="text-align: right;">red0_unique</th>
<th style="text-align: right;">blue0_missing</th>
<th style="text-align: right;">blue0_unique</th>
<th style="text-align: right;">redcty_missing</th>
<th style="text-align: right;">redcty_unique</th>
<th style="text-align: right;">bluecty_missing</th>
<th style="text-align: right;">bluecty_unique</th>
<th style="text-align: right;">pwhite_missing</th>
<th style="text-align: right;">pwhite_unique</th>
<th style="text-align: right;">pblack_missing</th>
<th style="text-align: right;">pblack_unique</th>
<th style="text-align: right;">page18_39_missing</th>
<th style="text-align: right;">page18_39_unique</th>
<th style="text-align: right;">ave_hh_sz_missing</th>
<th style="text-align: right;">ave_hh_sz_unique</th>
<th style="text-align: right;">median_hhincome_missing</th>
<th style="text-align: right;">median_hhincome_unique</th>
<th style="text-align: right;">powner_missing</th>
<th style="text-align: right;">powner_unique</th>
<th style="text-align: right;">psch_atlstba_missing</th>
<th style="text-align: right;">psch_atlstba_unique</th>
<th style="text-align: right;">pop_propurban_missing</th>
<th style="text-align: right;">pop_propurban_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">240</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">243</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">144</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1111</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1148</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">452</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">452</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1866</td>
<td style="text-align: right;">10730</td>
<td style="text-align: right;">2036</td>
<td style="text-align: right;">10541</td>
<td style="text-align: right;">1866</td>
<td style="text-align: right;">10789</td>
<td style="text-align: right;">1862</td>
<td style="text-align: right;">297</td>
<td style="text-align: right;">1874</td>
<td style="text-align: right;">9570</td>
<td style="text-align: right;">1869</td>
<td style="text-align: right;">10795</td>
<td style="text-align: right;">1868</td>
<td style="text-align: right;">10791</td>
<td style="text-align: right;">1866</td>
<td style="text-align: right;">5608</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Variable Definitions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>treatment</code></td>
<td>Treatment</td>
</tr>
<tr class="even">
<td><code>control</code></td>
<td>Control</td>
</tr>
<tr class="odd">
<td><code>ratio</code></td>
<td>Match ratio</td>
</tr>
<tr class="even">
<td><code>ratio2</code></td>
<td>2:1 match ratio</td>
</tr>
<tr class="odd">
<td><code>ratio3</code></td>
<td>3:1 match ratio</td>
</tr>
<tr class="even">
<td><code>size</code></td>
<td>Match threshold</td>
</tr>
<tr class="odd">
<td><code>size25</code></td>
<td>$25,000 match threshold</td>
</tr>
<tr class="even">
<td><code>size50</code></td>
<td>$50,000 match threshold</td>
</tr>
<tr class="odd">
<td><code>size100</code></td>
<td>$100,000 match threshold</td>
</tr>
<tr class="even">
<td><code>sizeno</code></td>
<td>Unstated match threshold</td>
</tr>
<tr class="odd">
<td><code>ask</code></td>
<td>Suggested donation amount</td>
</tr>
<tr class="even">
<td><code>askd1</code></td>
<td>Suggested donation was highest previous contribution</td>
</tr>
<tr class="odd">
<td><code>askd2</code></td>
<td>Suggested donation was 1.25 x highest previous contribution</td>
</tr>
<tr class="even">
<td><code>askd3</code></td>
<td>Suggested donation was 1.50 x highest previous contribution</td>
</tr>
<tr class="odd">
<td><code>ask1</code></td>
<td>Highest previous contribution (for suggestion)</td>
</tr>
<tr class="even">
<td><code>ask2</code></td>
<td>1.25 x highest previous contribution (for suggestion)</td>
</tr>
<tr class="odd">
<td><code>ask3</code></td>
<td>1.50 x highest previous contribution (for suggestion)</td>
</tr>
<tr class="even">
<td><code>amount</code></td>
<td>Dollars given</td>
</tr>
<tr class="odd">
<td><code>gave</code></td>
<td>Gave anything</td>
</tr>
<tr class="even">
<td><code>amountchange</code></td>
<td>Change in amount given</td>
</tr>
<tr class="odd">
<td><code>hpa</code></td>
<td>Highest previous contribution</td>
</tr>
<tr class="even">
<td><code>ltmedmra</code></td>
<td>Small prior donor: last gift was less than median $35</td>
</tr>
<tr class="odd">
<td><code>freq</code></td>
<td>Number of prior donations</td>
</tr>
<tr class="even">
<td><code>years</code></td>
<td>Number of years since initial donation</td>
</tr>
<tr class="odd">
<td><code>year5</code></td>
<td>At least 5 years since initial donation</td>
</tr>
<tr class="even">
<td><code>mrm2</code></td>
<td>Number of months since last donation</td>
</tr>
<tr class="odd">
<td><code>dormant</code></td>
<td>Already donated in 2005</td>
</tr>
<tr class="even">
<td><code>female</code></td>
<td>Female</td>
</tr>
<tr class="odd">
<td><code>couple</code></td>
<td>Couple</td>
</tr>
<tr class="even">
<td><code>state50one</code></td>
<td>State tag: 1 for one observation of each of 50 states; 0 otherwise</td>
</tr>
<tr class="odd">
<td><code>nonlit</code></td>
<td>Nonlitigation</td>
</tr>
<tr class="even">
<td><code>cases</code></td>
<td>Court cases from state in 2004-5 in which organization was involved</td>
</tr>
<tr class="odd">
<td><code>statecnt</code></td>
<td>Percent of sample from state</td>
</tr>
<tr class="even">
<td><code>stateresponse</code></td>
<td>Proportion of sample from the state who gave</td>
</tr>
<tr class="odd">
<td><code>stateresponset</code></td>
<td>Proportion of treated sample from the state who gave</td>
</tr>
<tr class="even">
<td><code>stateresponsec</code></td>
<td>Proportion of control sample from the state who gave</td>
</tr>
<tr class="odd">
<td><code>stateresponsetminc</code></td>
<td>stateresponset - stateresponsec</td>
</tr>
<tr class="even">
<td><code>perbush</code></td>
<td>State vote share for Bush</td>
</tr>
<tr class="odd">
<td><code>close25</code></td>
<td>State vote share for Bush between 47.5% and 52.5%</td>
</tr>
<tr class="even">
<td><code>red0</code></td>
<td>Red state</td>
</tr>
<tr class="odd">
<td><code>blue0</code></td>
<td>Blue state</td>
</tr>
<tr class="even">
<td><code>redcty</code></td>
<td>Red county</td>
</tr>
<tr class="odd">
<td><code>bluecty</code></td>
<td>Blue county</td>
</tr>
<tr class="even">
<td><code>pwhite</code></td>
<td>Proportion white within zip code</td>
</tr>
<tr class="odd">
<td><code>pblack</code></td>
<td>Proportion black within zip code</td>
</tr>
<tr class="even">
<td><code>page18_39</code></td>
<td>Proportion age 18-39 within zip code</td>
</tr>
<tr class="odd">
<td><code>ave_hh_sz</code></td>
<td>Average household size within zip code</td>
</tr>
<tr class="even">
<td><code>median_hhincome</code></td>
<td>Median household income within zip code</td>
</tr>
<tr class="odd">
<td><code>powner</code></td>
<td>Proportion house owner within zip code</td>
</tr>
<tr class="even">
<td><code>psch_atlstba</code></td>
<td>Proportion who finished college within zip code</td>
</tr>
<tr class="odd">
<td><code>pop_propurban</code></td>
<td>Proportion of population urban within zip code</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
</section>
<section id="balance-test" class="level2">
<h2 class="anchored" data-anchor-id="balance-test">Balance Test</h2>
<p>As an ad hoc test of the randomization mechanism, I provide a series of tests that compare aspects of the treatment and control groups to assess whether they are statistically significantly different from one another.</p>
<section id="balance-testing-on-pre-treatment-variables" class="level3">
<h3 class="anchored" data-anchor-id="balance-testing-on-pre-treatment-variables">Balance Testing on Pre-Treatment Variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>({</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(tidyverse)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(broom)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(knitr)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual t-test function using class formula</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>manual_t_test <span class="ot">&lt;-</span> <span class="cf">function</span>(var, group_var, <span class="at">group1 =</span> <span class="dv">1</span>, <span class="at">group2 =</span> <span class="dv">0</span>, data) {</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  x1 <span class="ot">&lt;-</span> data[[var]][data[[group_var]] <span class="sc">==</span> group1]</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  x2 <span class="ot">&lt;-</span> data[[var]][data[[group_var]] <span class="sc">==</span> group2]</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  x1 <span class="ot">&lt;-</span> x1[<span class="sc">!</span><span class="fu">is.na</span>(x1)]</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  x2 <span class="ot">&lt;-</span> x2[<span class="sc">!</span><span class="fu">is.na</span>(x2)]</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  n1 <span class="ot">&lt;-</span> <span class="fu">length</span>(x1)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  n2 <span class="ot">&lt;-</span> <span class="fu">length</span>(x2)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  m1 <span class="ot">&lt;-</span> <span class="fu">mean</span>(x1)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  m2 <span class="ot">&lt;-</span> <span class="fu">mean</span>(x2)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  s1 <span class="ot">&lt;-</span> <span class="fu">var</span>(x1)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  s2 <span class="ot">&lt;-</span> <span class="fu">var</span>(x2)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  se_diff <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(s1 <span class="sc">/</span> n1 <span class="sc">+</span> s2 <span class="sc">/</span> n2)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  t_stat <span class="ot">&lt;-</span> (m1 <span class="sc">-</span> m2) <span class="sc">/</span> se_diff</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">variable =</span> var,</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">group1_mean =</span> m1,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">group2_mean =</span> m2,</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_diff =</span> m1 <span class="sc">-</span> m2,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> se_diff,</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">t_stat =</span> t_stat</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Variables to test</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>test_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"mrm2"</span>, <span class="st">"years"</span>, <span class="st">"freq"</span>)</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Run manual t-tests</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>t_test_results <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(test_vars, <span class="sc">~</span><span class="fu">manual_t_test</span>(.x, <span class="st">"treatment"</span>, <span class="at">data =</span> df))</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Run regressions and extract treatment coefficient</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>regression_results <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(test_vars, <span class="cf">function</span>(var) {</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">as.formula</span>(<span class="fu">paste</span>(var, <span class="st">"~ treatment"</span>)), <span class="at">data =</span> df)</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>(mod) <span class="sc">%&gt;%</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"treatment"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variable =</span> var) <span class="sc">%&gt;%</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(variable, estimate, std.error, statistic)</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge results</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>results_combined <span class="ot">&lt;-</span> <span class="fu">left_join</span>(</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>  t_test_results,</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>  regression_results,</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"variable"</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">reg_estimate =</span> estimate,</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">reg_se =</span> std.error,</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">reg_t_stat =</span> statistic</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="experimental-results" class="level3">
<h3 class="anchored" data-anchor-id="experimental-results">Experimental Results</h3>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Balance Test: Manual T-Tests vs Linear Regression</caption>
<colgroup>
<col style="width: 10%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 11%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 14%">
<col style="width: 8%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: right;">group1_mean</th>
<th style="text-align: right;">group2_mean</th>
<th style="text-align: right;">mean_diff</th>
<th style="text-align: right;">se</th>
<th style="text-align: right;">t_stat</th>
<th style="text-align: right;">reg_estimate</th>
<th style="text-align: right;">reg_se</th>
<th style="text-align: right;">reg_t_stat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">mrm2</td>
<td style="text-align: right;">13.012</td>
<td style="text-align: right;">12.998</td>
<td style="text-align: right;">0.014</td>
<td style="text-align: right;">0.114</td>
<td style="text-align: right;">0.120</td>
<td style="text-align: right;">0.014</td>
<td style="text-align: right;">0.115</td>
<td style="text-align: right;">0.119</td>
</tr>
<tr class="even">
<td style="text-align: left;">years</td>
<td style="text-align: right;">6.078</td>
<td style="text-align: right;">6.136</td>
<td style="text-align: right;">-0.058</td>
<td style="text-align: right;">0.053</td>
<td style="text-align: right;">-1.091</td>
<td style="text-align: right;">-0.058</td>
<td style="text-align: right;">0.052</td>
<td style="text-align: right;">-1.103</td>
</tr>
<tr class="odd">
<td style="text-align: left;">freq</td>
<td style="text-align: right;">8.035</td>
<td style="text-align: right;">8.047</td>
<td style="text-align: right;">-0.012</td>
<td style="text-align: right;">0.108</td>
<td style="text-align: right;">-0.111</td>
<td style="text-align: right;">-0.012</td>
<td style="text-align: right;">0.108</td>
<td style="text-align: right;">-0.111</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The balance test results shown above compare key baseline characteristics across the treatment and control groups. Specifically, I tested three variables—mrm2 (months since last donation), years (years since initial donation), and freq (number of prior donations)—to assess whether the treatment and control groups are statistically significantly different from one another.</p>
<p>In all three cases, the difference in means between the two groups is extremely small, and the associated t-statistics are all very close to zero, well below the critical value for 95% significance. These results are confirmed by linear regressions of each variable on the treatment indicator, which yield the exact same estimates and test statistics as the manual t-tests—demonstrating analytical consistency.</p>
<p>These findings suggest that the random assignment worked as intended, and there are no systematic differences between treatment and control groups on these pre-treatment variables. This supports the internal validity of the experimental design.</p>
<section id="conclusion-corresponds-to-results-in-table-1" class="level4">
<h4 class="anchored" data-anchor-id="conclusion-corresponds-to-results-in-table-1">Conclusion: Corresponds to Results in Table 1</h4>
<p>Table 1 in the original Karlan and List (2007) paper serves a critical diagnostic purpose. It provides summary statistics for a wide range of baseline variables, broken down by treatment and control groups, including demographic, behavioral, and geographic characteristics. Its role is to demonstrate balance across groups, validating the assumption that any differences in outcomes can be causally attributed to the treatment rather than pre-existing differences.</p>
<p>By comparing your balance test results to Table 1:</p>
<p>You can confirm that your replication dataset matches the original in both structure and balance.</p>
<p>Your t-test and regression results on mrm2, years, and freq closely align with the reported means in Table 1.</p>
<p>Like in Table 1, you find no statistically significant differences—reinforcing that the randomization mechanism was successful.</p>
<p>In short, Table 1 provides the foundational evidence that the experimental groups are statistically equivalent at baseline. Your balance test serves the same function, and by mirroring that analysis, you’re showing your replication is on solid footing.</p>
<section id="reference-karlan-and-list-2007" class="level5">
<h5 class="anchored" data-anchor-id="reference-karlan-and-list-2007">Reference: Karlan and List (2007)</h5>
<p>Here is the PDF of the original study and includes Table 1, which summarizes the balance between treatment and control groups:</p>
<p>You can also <a href="karlan_list_2007.pdf">download the PDF here</a>.</p>
</section>
</section>
</section>
<section id="charitable-contribution-made" class="level3">
<h3 class="anchored" data-anchor-id="charitable-contribution-made">Charitable Contribution Made</h3>
<p>First, I analyze whether matched donations lead to an increased response rate of making a donation.</p>
</section>
<section id="donation-rate-by-treatment-status" class="level3">
<h3 class="anchored" data-anchor-id="donation-rate-by-treatment-status">Donation Rate by Treatment Status</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate donation proportions</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>donation_rate <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(treatment) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">prop_donated =</span> <span class="fu">mean</span>(gave, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">if_else</span>(treatment <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Treatment"</span>, <span class="st">"Control"</span>))</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure control is first</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>donation_rate<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">factor</span>(donation_rate<span class="sc">$</span>group, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Control"</span>, <span class="st">"Treatment"</span>))</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot with zoomed y-axis (proportions, not percent)</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(donation_rate, <span class="fu">aes</span>(<span class="at">x =</span> group, <span class="at">y =</span> prop_donated)) <span class="sc">+</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Proportion of Donors by Treatment Group"</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Group"</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion Donated"</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.03</span>)) <span class="sc">+</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw1_questions_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="effect-of-treatment-on-donation-behavior" class="level3">
<h3 class="anchored" data-anchor-id="effect-of-treatment-on-donation-behavior">Effect of Treatment on Donation Behavior</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>({</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(tidyverse)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(broom)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(knitr)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual t-test using class formula</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>treat <span class="ot">&lt;-</span> df<span class="sc">$</span>gave[df<span class="sc">$</span>treatment <span class="sc">==</span> <span class="dv">1</span>]</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>ctrl <span class="ot">&lt;-</span> df<span class="sc">$</span>gave[df<span class="sc">$</span>treatment <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove missing</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>treat <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(treat)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>ctrl <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(ctrl)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute values</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>mean_treat <span class="ot">&lt;-</span> <span class="fu">mean</span>(treat)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>mean_ctrl <span class="ot">&lt;-</span> <span class="fu">mean</span>(ctrl)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>n1 <span class="ot">&lt;-</span> <span class="fu">length</span>(treat)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>n0 <span class="ot">&lt;-</span> <span class="fu">length</span>(ctrl)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">var</span>(treat)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>var0 <span class="ot">&lt;-</span> <span class="fu">var</span>(ctrl)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>se_diff <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(var1 <span class="sc">/</span> n1 <span class="sc">+</span> var0 <span class="sc">/</span> n0)</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>t_stat <span class="ot">&lt;-</span> (mean_treat <span class="sc">-</span> mean_ctrl) <span class="sc">/</span> se_diff</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Assemble t-test result</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>t_test_result <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Mean (Treatment)</span><span class="st">`</span> <span class="ot">=</span> mean_treat,</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Mean (Control)</span><span class="st">`</span> <span class="ot">=</span> mean_ctrl,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Difference</span><span class="st">`</span> <span class="ot">=</span> mean_treat <span class="sc">-</span> mean_ctrl,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span> <span class="ot">=</span> se_diff,</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">T-Statistic</span><span class="st">`</span> <span class="ot">=</span> t_stat</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Run regression</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>reg_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(gave <span class="sc">~</span> treatment, <span class="at">data =</span> df)</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>reg_summary <span class="ot">&lt;-</span> <span class="fu">tidy</span>(reg_model) <span class="sc">%&gt;%</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"treatment"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Coefficient</span><span class="st">`</span> <span class="ot">=</span> estimate,</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span> <span class="ot">=</span> std.error,</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">T-Statistic</span><span class="st">`</span> <span class="ot">=</span> statistic,</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">P-Value</span><span class="st">`</span> <span class="ot">=</span> p.value)</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Output formatted tables</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(t_test_result, <span class="at">caption =</span> <span class="st">"Manual T-Test: Effect of Treatment on Donations"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Manual T-Test: Effect of Treatment on Donations</caption>
<thead>
<tr class="header">
<th style="text-align: right;">Mean (Treatment)</th>
<th style="text-align: right;">Mean (Control)</th>
<th style="text-align: right;">Difference</th>
<th style="text-align: right;">Std. Error</th>
<th style="text-align: right;">T-Statistic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.022</td>
<td style="text-align: right;">0.0179</td>
<td style="text-align: right;">0.0042</td>
<td style="text-align: right;">0.0013</td>
<td style="text-align: right;">3.2095</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(reg_summary, <span class="at">caption =</span> <span class="st">"Linear Regression: Coefficient on Treatment"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Linear Regression: Coefficient on Treatment</caption>
<thead>
<tr class="header">
<th style="text-align: right;">Coefficient</th>
<th style="text-align: right;">Std. Error</th>
<th style="text-align: right;">T-Statistic</th>
<th style="text-align: right;">P-Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.0042</td>
<td style="text-align: right;">0.0013</td>
<td style="text-align: right;">3.1014</td>
<td style="text-align: right;">0.0019</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The analysis shows that individuals in the treatment group—those who received a message mentioning matched donations—were more likely to donate than those in the control group. The difference in donation rates is small in absolute terms (about 0.4 percentage points), but statistically significant. Both the manual t-test and the linear regression confirm this result, with t-statistics above 3 and a p-value well below the 5% significance threshold.</p>
<p>In practical terms, this suggests that even a subtle change in messaging—like telling donors their gift will be matched—can meaningfully affect behavior. People appear to be motivated by the idea that their donation will go further, or that someone else values their contribution enough to match it. This reflects broader behavioral principles such as reciprocity, social influence, and the perceived value of impact.</p>
<p>Overall, the findings support the conclusion that matching offers are an effective strategy in charitable fundraising, nudging more people to take action even when the individual gain is not large. This result is consistent with what is reported in Table 2a, Panel A of the original Karlan and List (2007) paper.</p>
</section>
<section id="probit-regression-effect-of-treatment-on-donation" class="level3">
<h3 class="anchored" data-anchor-id="probit-regression-effect-of-treatment-on-donation">Probit Regression: Effect of Treatment on Donation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>({</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(tidyverse)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(broom)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Run probit regression</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>probit_model <span class="ot">&lt;-</span> <span class="fu">glm</span>(gave <span class="sc">~</span> treatment, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>), <span class="at">data =</span> df)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy output</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>probit_summary <span class="ot">&lt;-</span> <span class="fu">tidy</span>(probit_model)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Show results in table</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(probit_summary, <span class="at">caption =</span> <span class="st">"Probit Regression: Outcome = Gave, Predictor = Treatment"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Probit Regression: Outcome = Gave, Predictor = Treatment</caption>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-2.1001</td>
<td style="text-align: right;">0.0233</td>
<td style="text-align: right;">-90.0739</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">treatment</td>
<td style="text-align: right;">0.0868</td>
<td style="text-align: right;">0.0279</td>
<td style="text-align: right;">3.1130</td>
<td style="text-align: right;">0.0019</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The probit regression estimates the effect of being assigned to the treatment group on the probability of making a donation. The coefficient on the <code>treatment</code> variable is positive and statistically significant, closely matching the result reported in Table 3, Column 1 of Karlan and List (2007).</p>
<p>In practical terms, this confirms that simply offering a matching grant—without changing anything else about the appeal—significantly increases the likelihood that someone donates. While the actual donation rates remain low, this small but consistent shift in probability reflects how subtle cues in messaging can have real behavioral impact. The probit model accounts for the nonlinear relationship between predictors and a binary outcome, and still finds that the treatment has a meaningful effect.</p>
<p>This reinforces the key insight of the paper: <strong>people are more likely to act generously when they believe their contribution will be leveraged or matched</strong>, even in a large, field-based real-world setting.</p>
</section>
<section id="differences-between-match-rates" class="level3">
<h3 class="anchored" data-anchor-id="differences-between-match-rates">Differences between Match Rates</h3>
<p>Next, I assess the effectiveness of different sizes of matched donations on the response rate.</p>
</section>
<section id="effect-of-match-size-on-donation-t-tests" class="level3">
<h3 class="anchored" data-anchor-id="effect-of-match-size-on-donation-t-tests">Effect of Match Size on Donation (T-Tests)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter treatment group and relabel ratio values</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>df_treat <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(treatment <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> <span class="fu">as.character</span>(ratio)) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio_label =</span> <span class="fu">case_when</span>(</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    ratio <span class="sc">==</span> <span class="st">"1"</span> <span class="sc">~</span> <span class="st">"1:1"</span>,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    ratio <span class="sc">==</span> <span class="st">"2"</span> <span class="sc">~</span> <span class="st">"2:1"</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    ratio <span class="sc">==</span> <span class="st">"3"</span> <span class="sc">~</span> <span class="st">"3:1"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Safe t-test function</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>compare_match_rates <span class="ot">&lt;-</span> <span class="cf">function</span>(group1, group2, data) {</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  x1 <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(data<span class="sc">$</span>gave[data<span class="sc">$</span>ratio_label <span class="sc">==</span> group1])</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  x2 <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(data<span class="sc">$</span>gave[data<span class="sc">$</span>ratio_label <span class="sc">==</span> group2])</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(x1) <span class="sc">&lt;</span> <span class="dv">5</span> <span class="sc">|</span> <span class="fu">length</span>(x2) <span class="sc">&lt;</span> <span class="dv">5</span>) {</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">tibble</span>(</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">comparison =</span> <span class="fu">paste</span>(group1, <span class="st">"vs"</span>, group2),</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">estimate1 =</span> <span class="cn">NA</span>, <span class="at">estimate2 =</span> <span class="cn">NA</span>, <span class="at">statistic =</span> <span class="cn">NA</span>,</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">p.value =</span> <span class="cn">NA</span>, <span class="at">conf.low =</span> <span class="cn">NA</span>, <span class="at">conf.high =</span> <span class="cn">NA</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t.test</span>(x1, x2, <span class="at">var.equal =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">comparison =</span> <span class="fu">paste</span>(group1, <span class="st">"vs"</span>, group2)) <span class="sc">%&gt;%</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(comparison, estimate1, estimate2,</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>           statistic, p.value, conf.low, conf.high)</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Run all 3 comparisons</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">compare_match_rates</span>(<span class="st">"1:1"</span>, <span class="st">"2:1"</span>, df_treat),</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">compare_match_rates</span>(<span class="st">"2:1"</span>, <span class="st">"3:1"</span>, df_treat),</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">compare_match_rates</span>(<span class="st">"1:1"</span>, <span class="st">"3:1"</span>, df_treat)</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Output results</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(results, <span class="at">caption =</span> <span class="st">"Pairwise T-Tests: Donation Rates by Match Size"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Pairwise T-Tests: Donation Rates by Match Size</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">comparison</th>
<th style="text-align: right;">estimate1</th>
<th style="text-align: right;">estimate2</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1:1 vs 2:1</td>
<td style="text-align: right;">0.0207</td>
<td style="text-align: right;">0.0226</td>
<td style="text-align: right;">-0.9650</td>
<td style="text-align: right;">0.3345</td>
<td style="text-align: right;">-0.0057</td>
<td style="text-align: right;">0.0019</td>
</tr>
<tr class="even">
<td style="text-align: left;">2:1 vs 3:1</td>
<td style="text-align: right;">0.0226</td>
<td style="text-align: right;">0.0227</td>
<td style="text-align: right;">-0.0501</td>
<td style="text-align: right;">0.9600</td>
<td style="text-align: right;">-0.0040</td>
<td style="text-align: right;">0.0038</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1:1 vs 3:1</td>
<td style="text-align: right;">0.0207</td>
<td style="text-align: right;">0.0227</td>
<td style="text-align: right;">-1.0150</td>
<td style="text-align: right;">0.3101</td>
<td style="text-align: right;">-0.0058</td>
<td style="text-align: right;">0.0018</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>On page 8, Karlan and List (2007) write:</p>
<p>“…the figures suggest that larger match ratios are not necessarily more effective.”</p>
<p>The results support this observation: even though the match ratios increase from 1:1 to 3:1, the donation rates barely change, and the differences are not statistically significant. The marginal value of increasing the match ratio appears to be negligible.</p>
<p>This suggests that it’s the presence of a match offer that matters—not the size of the match. Once donors know their gift will be matched, making it a 2:1 or 3:1 offer doesn’t significantly change their likelihood to give.</p>
</section>
<section id="regression-effect-of-match-ratio-size-on-donation" class="level3">
<h3 class="anchored" data-anchor-id="regression-effect-of-match-ratio-size-on-donation">Regression: Effect of Match Ratio Size on Donation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dummy variables for match ratios (treatment only)</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">ratio =</span> <span class="fu">as.character</span>(ratio),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">ratio1 =</span> <span class="fu">as.integer</span>(ratio <span class="sc">==</span> <span class="st">"1"</span>),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">ratio2 =</span> <span class="fu">as.integer</span>(ratio <span class="sc">==</span> <span class="st">"2"</span>),</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">ratio3 =</span> <span class="fu">as.integer</span>(ratio <span class="sc">==</span> <span class="st">"3"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Run regression using ratio1, ratio2, ratio3 (baseline is control group)</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>match_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(gave <span class="sc">~</span> ratio1 <span class="sc">+</span> ratio2 <span class="sc">+</span> ratio3, <span class="at">data =</span> df)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy and print results</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>match_lm_tidy <span class="ot">&lt;-</span> <span class="fu">tidy</span>(match_lm)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(match_lm_tidy, <span class="at">caption =</span> <span class="st">"Regression: Effect of Match Ratio on Donation (Baseline = Control)"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Regression: Effect of Match Ratio on Donation (Baseline = Control)</caption>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">0.0179</td>
<td style="text-align: right;">0.0011</td>
<td style="text-align: right;">16.2245</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ratio1</td>
<td style="text-align: right;">0.0029</td>
<td style="text-align: right;">0.0017</td>
<td style="text-align: right;">1.6615</td>
<td style="text-align: right;">0.0966</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ratio2</td>
<td style="text-align: right;">0.0048</td>
<td style="text-align: right;">0.0017</td>
<td style="text-align: right;">2.7445</td>
<td style="text-align: right;">0.0061</td>
</tr>
<tr class="even">
<td style="text-align: left;">ratio3</td>
<td style="text-align: right;">0.0049</td>
<td style="text-align: right;">0.0017</td>
<td style="text-align: right;">2.8016</td>
<td style="text-align: right;">0.0051</td>
</tr>
</tbody>
</table>
</div>
</div>
<section id="key-findings" class="level4">
<h4 class="anchored" data-anchor-id="key-findings">Key Findings:</h4>
<p>Control group baseline: 1.79% donation rate (Intercept)</p>
<p>1:1 match: Increases donation rate by ~0.29 percentage points (not statistically significant, p = 0.097)</p>
<p>2:1 match: Increases donation rate by ~0.48 points (statistically significant, p = 0.0061)</p>
<p>3:1 match: Similar increase as 2:1 (~0.49 points), also statistically significant (p = 0.0051)</p>
<p>The presence of any match offer increases the probability of donating, but interestingly, larger match ratios (2:1 and 3:1) are more effective than 1:1. This differs slightly from the earlier t-tests (which found no significant differences between match sizes), but the regression shows that the increase in donation probability for 2:1 and 3:1 offers is statistically significant compared to control.</p>
<p>That said, the difference between 2:1 and 3:1 is very small, and the coefficients are nearly identical, reinforcing the earlier point: increasing the match size beyond 2:1 might not yield additional behavioral gains.</p>
<p>The regression results show that larger match ratios (2:1 and 3:1) significantly increase the likelihood of donating relative to no match, while the 1:1 match is only marginally effective. However, the impact of 2:1 and 3:1 matches is nearly identical, suggesting that while higher match ratios can enhance giving, the effect appears to plateau beyond 2:1. This nuance helps explain why the authors state that “larger match ratios are not necessarily more effective” (p.&nbsp;8)—the increase from 1:1 to 2:1 matters, but going from 2:1 to 3:1 doesn’t do much more.</p>
</section>
</section>
<section id="differences-in-match-size-effects-raw-vs-fitted" class="level3">
<h3 class="anchored" data-anchor-id="differences-in-match-size-effects-raw-vs-fitted">Differences in Match Size Effects: Raw vs Fitted</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter treatment group and clean up ratio variable</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>df_treat <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(treatment <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> <span class="fu">as.character</span>(ratio))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate raw response rates by ratio</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>raw_rates <span class="ot">&lt;-</span> df_treat <span class="sc">%&gt;%</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ratio <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ratio) <span class="sc">%&gt;%</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">response_rate =</span> <span class="fu">mean</span>(gave, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> ratio, <span class="at">values_from =</span> response_rate) <span class="sc">%&gt;%</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">1:1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">1</span><span class="st">`</span>, <span class="st">`</span><span class="at">2:1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">2</span><span class="st">`</span>, <span class="st">`</span><span class="at">3:1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">3</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_diff_2v1 =</span> <span class="st">`</span><span class="at">2:1</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">1:1</span><span class="st">`</span>,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">raw_diff_3v2 =</span> <span class="st">`</span><span class="at">3:1</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">2:1</span><span class="st">`</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull regression estimates</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>reg_diffs <span class="ot">&lt;-</span> match_lm_tidy <span class="sc">%&gt;%</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ratio1"</span>, <span class="st">"ratio2"</span>, <span class="st">"ratio3"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(term, estimate) <span class="sc">%&gt;%</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> term, <span class="at">values_from =</span> estimate) <span class="sc">%&gt;%</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">fitted_diff_2v1 =</span> ratio2 <span class="sc">-</span> ratio1,</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">fitted_diff_3v2 =</span> ratio3 <span class="sc">-</span> ratio2</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine raw + regression diff output</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  raw_rates <span class="sc">%&gt;%</span> <span class="fu">select</span>(raw_diff_2v1, raw_diff_3v2),</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>  reg_diffs <span class="sc">%&gt;%</span> <span class="fu">select</span>(fitted_diff_2v1, fitted_diff_3v2)</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(comparison, <span class="at">caption =</span> <span class="st">"Difference in Response Rates: Raw vs Fitted Coefficients"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Difference in Response Rates: Raw vs Fitted Coefficients</caption>
<thead>
<tr class="header">
<th style="text-align: right;">raw_diff_2v1</th>
<th style="text-align: right;">raw_diff_3v2</th>
<th style="text-align: right;">fitted_diff_2v1</th>
<th style="text-align: right;">fitted_diff_3v2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.0019</td>
<td style="text-align: right;">1e-04</td>
<td style="text-align: right;">0.0019</td>
<td style="text-align: right;">1e-04</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Both the raw data and the regression coefficients show that increasing the match from 1:1 to 2:1 leads to a small but noticeable increase in donation rates. However, increasing the match further to 3:1 provides no meaningful gain. This supports the authors’ suggestion that higher match ratios do not necessarily produce better outcomes. In essence, the presence of a match offer matters—but making that match larger beyond a certain point (2:1) does not meaningfully change donor behavior. This has important practical implications: organizations may not need to offer higher matches to motivate giving, as the psychological effect appears to plateau.</p>
</section>
<section id="size-of-charitable-contribution" class="level3">
<h3 class="anchored" data-anchor-id="size-of-charitable-contribution">Size of Charitable Contribution</h3>
<p>In this subsection, I analyze the effect of the size of matched donation on the size of the charitable contribution.</p>
</section>
<section id="effect-of-treatment-on-donation-amount-full-sample" class="level3">
<h3 class="anchored" data-anchor-id="effect-of-treatment-on-donation-amount-full-sample">Effect of Treatment on Donation Amount (Full Sample)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># T-test: donation amount by treatment</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>tt <span class="ot">&lt;-</span> <span class="fu">t.test</span>(amount <span class="sc">~</span> treatment, <span class="at">data =</span> df)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Format t-test result</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>tt_df <span class="ot">&lt;-</span> <span class="fu">tidy</span>(tt) <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate1 =</span> tt<span class="sc">$</span>estimate[<span class="dv">1</span>],</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate2 =</span> tt<span class="sc">$</span>estimate[<span class="dv">2</span>]</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(estimate1, estimate2, estimate, statistic, p.value, conf.low, conf.high)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression: amount ~ treatment</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>lm_amt <span class="ot">&lt;-</span> <span class="fu">lm</span>(amount <span class="sc">~</span> treatment, <span class="at">data =</span> df)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>lm_df <span class="ot">&lt;-</span> <span class="fu">tidy</span>(lm_amt) <span class="sc">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"treatment"</span>)</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Output both tables</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(tt_df, <span class="at">caption =</span> <span class="st">"T-Test: Effect of Treatment on Donation Amount"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>T-Test: Effect of Treatment on Donation Amount</caption>
<colgroup>
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">estimate1</th>
<th style="text-align: right;">estimate2</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.8133</td>
<td style="text-align: right;">0.9669</td>
<td style="text-align: right;">-0.1536</td>
<td style="text-align: right;">-1.9183</td>
<td style="text-align: right;">0.0551</td>
<td style="text-align: right;">-0.3106</td>
<td style="text-align: right;">0.0033</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(lm_df, <span class="at">caption =</span> <span class="st">"Regression: Treatment Effect on Donation Amount"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Regression: Treatment Effect on Donation Amount</caption>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">treatment</td>
<td style="text-align: right;">0.1536</td>
<td style="text-align: right;">0.0826</td>
<td style="text-align: right;">1.8605</td>
<td style="text-align: right;">0.0628</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The difference is about $0.15 higher in the treatment group.</p>
<p>The t-test p-value is 0.0551, just slightly above the 5% threshold.</p>
<p>The regression gives nearly identical results: estimate = 0.1536, p = 0.0628</p>
<section id="results-summary" class="level4">
<h4 class="anchored" data-anchor-id="results-summary">Results Summary</h4>
<p>The treatment group gave more on average, but the difference is not statistically significant at the 5% level—it’s just above the line. While this might suggest that match offers increase total donation amounts, the evidence is not strong enough to confidently claim a real effect at conventional significance levels.</p>
</section>
</section>
<section id="treatment-effect-on-donation-amount-among-donors-only" class="level3">
<h3 class="anchored" data-anchor-id="treatment-effect-on-donation-amount-among-donors-only">Treatment Effect on Donation Amount (Among Donors Only)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to people who donated something</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>df_donors <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(gave <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># T-test</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>tt_donors <span class="ot">&lt;-</span> <span class="fu">t.test</span>(amount <span class="sc">~</span> treatment, <span class="at">data =</span> df_donors)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Format t-test output</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>tt_donors_df <span class="ot">&lt;-</span> <span class="fu">tidy</span>(tt_donors) <span class="sc">%&gt;%</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate1 =</span> tt_donors<span class="sc">$</span>estimate[<span class="dv">1</span>],</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">estimate2 =</span> tt_donors<span class="sc">$</span>estimate[<span class="dv">2</span>]</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(estimate1, estimate2, estimate, statistic, p.value, conf.low, conf.high)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>lm_donors <span class="ot">&lt;-</span> <span class="fu">lm</span>(amount <span class="sc">~</span> treatment, <span class="at">data =</span> df_donors)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>lm_donors_df <span class="ot">&lt;-</span> <span class="fu">tidy</span>(lm_donors) <span class="sc">%&gt;%</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"treatment"</span>)</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Output</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(tt_donors_df, <span class="at">caption =</span> <span class="st">"T-Test: Treatment Effect on Donation Amount (Donors Only)"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>T-Test: Treatment Effect on Donation Amount (Donors Only)</caption>
<colgroup>
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">estimate1</th>
<th style="text-align: right;">estimate2</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">45.5403</td>
<td style="text-align: right;">43.8719</td>
<td style="text-align: right;">1.6684</td>
<td style="text-align: right;">0.5846</td>
<td style="text-align: right;">0.559</td>
<td style="text-align: right;">-3.9372</td>
<td style="text-align: right;">7.274</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(lm_donors_df, <span class="at">caption =</span> <span class="st">"Regression: Treatment Effect on Donation Amount (Donors Only)"</span>, <span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Regression: Treatment Effect on Donation Amount (Donors Only)</caption>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">treatment</td>
<td style="text-align: right;">-1.6684</td>
<td style="text-align: right;">2.8724</td>
<td style="text-align: right;">-0.5808</td>
<td style="text-align: right;">0.5615</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The t-test p-value = 0.559</p>
<p>The regression p-value = 0.5615</p>
<p>Both show no statistically significant difference between treatment and control among donors.</p>
<section id="conclusion" class="level4">
<h4 class="anchored" data-anchor-id="conclusion">Conclusion</h4>
<p>Among people who chose to donate, those in the treatment group did not give more—in fact, they gave slightly less on average, though not by a statistically meaningful amount.</p>
<p>Limiting the analysis to only those who donated, we find no statistically significant difference in average donation amount between the treatment and control groups. The treatment coefficient is not significant, and the observed difference (~$1.67) is small and negative. However, this regression does not have a causal interpretation because it conditions on giving—an outcome influenced by the treatment. Thus, while match offers may increase the number of donors, they do not appear to affect how much people give once they’ve already decided to donate</p>
</section>
</section>
<section id="distribution-of-donation-amounts-among-donors-only" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-donation-amounts-among-donors-only">Distribution of Donation Amounts (Among Donors Only)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter donors only</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>donors_only <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(gave <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute group means</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>group_means <span class="ot">&lt;-</span> donors_only <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(treatment) <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg =</span> <span class="fu">mean</span>(amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Label treatment vs control</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>donors_only <span class="ot">&lt;-</span> donors_only <span class="sc">%&gt;%</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">if_else</span>(treatment <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Treatment"</span>, <span class="st">"Control"</span>))</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(donors_only, <span class="fu">aes</span>(<span class="at">x =</span> amount)) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> group_means <span class="sc">%&gt;%</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>               <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">if_else</span>(treatment <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Treatment"</span>, <span class="st">"Control"</span>)),</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> avg), <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> group, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>)) <span class="sc">+</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of Donation Amounts (Among Donors)"</span>,</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Donation Amount ($)"</span>,</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Count"</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw1_questions_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="simulation-experiment" class="level2">
<h2 class="anchored" data-anchor-id="simulation-experiment">Simulation Experiment</h2>
<p>As a reminder of how the t-statistic “works,” in this section I use simulation to demonstrate the Law of Large Numbers and the Central Limit Theorem.</p>
<p>Suppose the true distribution of respondents who do not get a charitable donation match is Bernoulli with probability p=0.018 that a donation is made.</p>
<p>Further suppose that the true distribution of respondents who do get a charitable donation match of any size is Bernoulli with probability p=0.022 that a donation is made.</p>
<section id="law-of-large-numbers" class="level3">
<h3 class="anchored" data-anchor-id="law-of-large-numbers">Law of Large Numbers</h3>
<section id="simulated-sampling-distribution-of-ate-average-treatment-effect" class="level4">
<h4 class="anchored" data-anchor-id="simulated-sampling-distribution-of-ate-average-treatment-effect">Simulated Sampling Distribution of ATE (Average Treatment Effect)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull full donation amount vectors</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>treat <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(treatment <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(amount)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>control <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(treatment <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(amount)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Set sample size per experiment</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span>  <span class="co"># sample size per group per experiment</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulate 10,000 experiments</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>n_sim <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>diffs <span class="ot">&lt;-</span> <span class="fu">replicate</span>(n_sim, {</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  t_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(treat, n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  c_sample <span class="ot">&lt;-</span> <span class="fu">sample</span>(control, n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(t_sample) <span class="sc">-</span> <span class="fu">mean</span>(c_sample)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute cumulative average of differences</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>cum_avg <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(diffs) <span class="sc">/</span> <span class="fu">seq_along</span>(diffs)</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>true_diff <span class="ot">&lt;-</span> <span class="fu">mean</span>(treat) <span class="sc">-</span> <span class="fu">mean</span>(control)</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot it</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">iteration =</span> <span class="dv">1</span><span class="sc">:</span>n_sim, <span class="at">cum_avg =</span> cum_avg) <span class="sc">%&gt;%</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> iteration, <span class="at">y =</span> cum_avg)) <span class="sc">+</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> true_diff, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Convergence of Estimated ATE Over Simulated Experiments"</span>,</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Simulation Number"</span>,</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Cumulative Average Treatment Effect"</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw1_questions_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This plot visualizes the convergence of estimated treatment effects over 10,000 simulated randomized experiments. In each simulation, we draw a fresh random sample of 100 units from both the treatment and control groups and compute the difference in average donation amounts. The blue line shows the cumulative average of these estimates across simulations, and the dashed red line represents the true difference in the full dataset. As expected, the cumulative average stabilizes around the true value as the number of simulations increases. This demonstrates the Law of Large Numbers in action and shows how sampling variability decreases with repeated estimation, reinforcing the reliability of our causal estimate under random assignment.</p>
</section>
</section>
<section id="central-limit-theorem" class="level3">
<h3 class="anchored" data-anchor-id="central-limit-theorem">Central Limit Theorem</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load your dataset (make sure the path works in your environment)</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_stata(<span class="st">"karlan_list_2007.dta"</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>treat <span class="op">=</span> df[df[<span class="st">"treatment"</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">"amount"</span>].dropna().values</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>control <span class="op">=</span> df[df[<span class="st">"treatment"</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">"amount"</span>].dropna().values</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>sample_sizes <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">200</span>, <span class="dv">500</span>, <span class="dv">1000</span>]</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>true_diff <span class="op">=</span> np.mean(treat) <span class="op">-</span> np.mean(control)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> axes.flatten()</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">123</span>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, n <span class="kw">in</span> <span class="bu">enumerate</span>(sample_sizes):</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    diffs <span class="op">=</span> [np.mean(np.random.choice(treat, n, replace<span class="op">=</span><span class="va">True</span>)) <span class="op">-</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>             np.mean(np.random.choice(control, n, replace<span class="op">=</span><span class="va">True</span>)) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>)]</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> axes[i]</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    sns.histplot(diffs, bins<span class="op">=</span><span class="dv">30</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>ax)</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    ax.axvline(<span class="dv">0</span>, color<span class="op">=</span><span class="st">"red"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, linewidth<span class="op">=</span><span class="fl">1.2</span>, label<span class="op">=</span><span class="st">"Zero"</span>)</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    ax.axvline(true_diff, color<span class="op">=</span><span class="st">"green"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, linewidth<span class="op">=</span><span class="fl">1.2</span>, label<span class="op">=</span><span class="st">"True Diff"</span>)</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    ax.set_title(<span class="ss">f"Sample size = </span><span class="sc">{</span>n<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(<span class="st">"Estimated Treatment Effect"</span>)</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(<span class="st">"Count"</span>)</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].legend()</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>fig.suptitle(<span class="st">"Central Limit Theorem: Distribution of Mean Differences"</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>plt.tight_layout(rect<span class="op">=</span>[<span class="dv">0</span>, <span class="fl">0.03</span>, <span class="dv">1</span>, <span class="fl">0.95</span>])</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="hw1_questions_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<section id="observations" class="level4">
<h4 class="anchored" data-anchor-id="observations">Observations:</h4>
<p>At n = 50: The distribution is wide and noisy, and zero is close to the center — we often estimate a treatment effect near zero just by chance. The green line is close, but it’s hard to distinguish from noise.</p>
<p>At n = 200: The distribution narrows slightly, and the green line (true effect) starts pulling away from zero. However, there’s still a decent chance of drawing a sample where zero falls near the center of the distribution.</p>
<p>At n = 500 and 1000: The distribution becomes tight and centered around the true effect. The red line (zero) is now clearly in the tails, suggesting that it’s very unlikely for a large random sample to produce an estimate near zero if a true treatment effect exists.</p>
</section>
<section id="conclusion-1" class="level4">
<h4 class="anchored" data-anchor-id="conclusion-1">Conclusion:</h4>
<p>As sample size increases, the sampling distribution of the estimated treatment effect becomes more concentrated around the true value, and the probability of observing a misleading result (like a difference close to zero when there is a real effect) diminishes. This demonstrates the precision and reliability gained from larger samples, as predicted by the Central Limit Theorem.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>